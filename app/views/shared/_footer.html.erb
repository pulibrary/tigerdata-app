<footer>
<div>
  <div id="footer">
      <div>
      <text-style variation="strong">
        Version:
        <% @version = VersionFooter.info %>
        <% if @version[:stale] %>
          (stale)
        <% end %>
        <span title="<%= @version[:sha] %>">
          <% if @version[:tagged_release] %>
            <a href="https://github.com/pulibrary/tiger-data-app/releases/tag/<%= @version[:branch] %>" target="_blank"><%= @version[:branch] %></a>
          <% else %>
            <%= @version[:branch] %>,
          <% end %>
          last updated: <%= @version[:version] %>
        </span>
      </text-style>
      <!-- Placeholder for us to display the version via AJAX (see mediafluxVersion.js)-->
      <span id="mediaflux_version"></span>
  </div>
      <div class="content">
        <div class= "pul-accessible">
          <%= link_to("Accessibility","https://accessibility.princeton.edu/help", target:"blank") %>
        </div>
        <%= link_to(image_tag("princeton_logo.png", alt: "Princeton University"), "https://www.princeton.edu", target: "blank") %>
      </div>
      <div id="copyright">
        &copy; <%= Date.current.year %> The Trustees of Princeton University
      </div>
  </div>
</div>
</footer>


<% if !current_user.nil? %>
<script type="module">
  // Make the AJAX call for version information explicitly on this page
  // (and for now only on this page) so that we don't make extra calls
  // to Mediaflux for every page loaded.
  displayMediafluxStatus('<%= mediaflux_info_index_path(format: "json") %>');
</script>
<% end %>
