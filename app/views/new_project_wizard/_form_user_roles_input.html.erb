<div class="form-field">
  <%= render partial: "/new_project_wizard/form_field_label",
           locals: {field_label: "Data User(s)", field_sub_label: ""} %>
  <div class="input-frame">
    <div class="user-input-display">
      <div class="user-table">
        <div class="user-heading row">
          <div class="user-cell cell"><div class="content"><div class="user-heading">User</div></div></div>
          <div class="cell"><div class="content"><div class="user-heading"></div>Read Only</div></div>
          <div class="cell"><div class="content"><div class="user-heading"></div>Read / Write</div></div>
          <div class="cell"><div class="content"><div class="user-heading"></div>Action</div></div>
        </div>
        <% if user_roles.count == 0 %>
          <div class="row">
              <div class="no-users"><div class="content"><div class="no-users-text">No Data User(s) added</div></div></div>
          </div>
        <% else %>
          <% user_roles.each do |user| %>
            <div class="row">
              <div class="user-cell cell"><div class="content"><div class="user-heading"><%= "#{user["name"]} (#{user["uid"]})" %></div></div></div>
              <div class="cell"><div class="content"><div class="user-heading"></div> <input type="radio" name="read_only_<%= user["uid"]%>" value="true" <%= user["read_only"] || user["read_only"].nil? ? "checked" : "" %>></input></div></div>
              <div class="cell"><div class="content"><div class="user-heading"></div><input type="radio" name="read_only_<%= user["uid"]%>" value="false" <%= !(user["read_only"] || user["read_only"].nil?) ? "checked" : "" %>></input></div></div>
              <div class="cell"><div class="content"><div class="user-heading"></div><div tabindex="0" class="remove-user-role remove-item"></div></div></div>
              <input type="hidden" name="request[user_roles][]" value="<%= user.to_json %>"> </input>
            </div>
          <% end %>
        <% end %>
      </div>
      <div class="user-info">
        Person(s) with access privileges to the project and its contents.
      </div>
      <span for="add-users" class="user-add-prompt">
        <input type="button" popovertarget="user-role" id="add-users" class="add-users" value="Add User(s)"></input>
      </span>
    </div>
    <div popover="auto" id="user-role"  class="user-role">
      <input type="button" popovertarget="user-role" popovertargetaction="hide" class="pul-popover-close"></input>

      <div class="text-input">
        <div class="horizontal-frame">
          <div class="vertical-frame">
            <input class="form-input datalist" type="text" name="user_find" id="user_find"
                  list="princeton_users" placeholder="Enter name or netid to search for a user" autocomplete="off"></input>
            <!-- This datalist is populated via AJAX in userRolesAutocomplete() -->
            <datalist id="princeton_users"></datalist>
            <ul class="selected-user-roles selected-items">
            </ul>
            <div class="input-error">
                <%= user_roles_error %>
            </div>
            <input type="hidden" id="request-user-roles" name="request[user_roles][]" value="" />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>