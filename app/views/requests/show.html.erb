<div class="heading-frame">
  <% if @request_model.error_message.present? %>
  <p class="error-field">There was an error with this request</p>
  <textarea class="disabled-field" rows="10" cols="50">
      <%= @request_model.error_message %>
    </textarea>
  <% end %>

  <div class="black-circle">
    <div class="floppy-disk">
    </div>
  </div>

  <div class="request-heading">Your new project request has been saved</div>
  <div class="request-subheading">Your project has been saved and may be edited</div>
  <div class="return-dashboard">
    <%= link_to "Return to Dashboard", dashboard_path, class: "btn btn-dark" %>
    <div class="horizontal-frame">
      <% if @request_presenter.eligible_to_edit?(current_user)%>
        <% if @request_model.submitted?%>
          <%= link_to "Edit submitted request", admin_edit_request_path(@request_model.id),class: "btn btn-dark" %>
          <%= link_to "Approve request", approve_request_path(@request_model.id), class: "btn btn-dark" %>
        <% end %>
      <% end %>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1" viewBox="0 0 1200 1" fill="none">
    <path d="M6.36558e-08 0.5L1200 0.500105" stroke="#EEEEEE"/>
  </svg>

  <div class="saved-summary">Saved Summary</div>
    <% if @request_presenter.eligible_to_edit?(current_user)%>
      <% if !@request_model.submitted?%>
        <div class="blue-box">
          <div class="box-heading">
              <div class="pul-container">
                <div class="pul-info"> </div>
                <div class="pul-info-text">This new project request has not been submitted.</div>
              </div>
              <div class="box-subheading">
                <div class="pul-info-subheading">Continue editing your request to submit it.</div>
              </div>
          </div>
          <div class="continue-edit">
            <%= link_to "Continue Editing", new_project_project_info_path(@request_model.id),class: "btn btn-dark btn-sm" %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

  <ul class="request-fields">
    <div class="detail-heading">Basic Info</div>
    <div class="detail-pair">
      <li class="detail-subheading">Project Title</li>
      <p class="detail-value"><%= @request_model.project_title %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Project Directory</li>
      <p class="detail-value"><%= @request_presenter.project_directory %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Project Purpose</li>
      <p class="detail-value"><%= @request_model.project_purpose %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Project Description</li>
      <p class="detail-value"><%=@request_model.description %></p>
    </div>
    <div class="detail-pair">
        <li class="detail-subheading">Department(s)</li>
        <p class="detail-value"><%=@request_presenter.departments_list %></p>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1" viewBox="0 0 1200 1" fill="none">
      <path d="M6.36558e-08 0.5L1200 0.500105" stroke="#EEEEEE"/>
    </svg>

    <div class="detail-heading">Roles and People(s)</div>
    <div class="detail-pair">
      <li class="detail-subheading">Data Sponsor</li>
      <p class="detail-value"> <%= @request_presenter.data_sponsor %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Data Manager</li>
      <p class="detail-value"><%= @request_presenter.data_manager %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Data User(s)</li>
      <p class="detail-value"><%=@request_presenter.user_list %></p>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1" viewBox="0 0 1200 1" fill="none">
      <path d="M6.36558e-08 0.5L1200 0.500105" stroke="#EEEEEE"/>
    </svg>

    <div class="detail-heading">Storage and Access</div>
    <div class="detail-pair">
      <li class="detail-subheading">Storage Needed</li>
      <p class="detail-value"><%= @request_model.approved_quota_size %> <%= @request_model.approved_quota_unit %></p>
    </div>
    <div class="detail-pair">
      <li class="detail-subheading">Estimated Number of Files</li>
      <p class="detail-value"><%= @request_model.number_of_files %></p>
    </div>

    <div class="detail-heading">Connection Options</div>
    <div class="detail-pair">
      <li class="storage-heading">Do you need to connect to HPC?</li>
      <p class="detail-value"><%= @request_model.hpc %></p>
    </div>
    <div class="detail-pair">
      <li class="storage-heading">Do you need SMB (network file share)?</li>
      <p class="detail-value"><%= @request_model.smb %></p>
    </div>
    <div class="detail-pair">
      <li class="storage-heading">Do you need to enable Globus transfers?</li>
      <p class="detail-value"> <%= @request_model.globus %></p>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1" viewBox="0 0 1200 1" fill="none">
      <path d="M6.36558e-08 0.5L1200 0.500105" stroke="#EEEEEE"/>
    </svg>
  </ul>
</div>